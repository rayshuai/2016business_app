bApp.service("accountDom",["registerInfo",function(a){this.map=null,this.list=[];var b=this;this.chosenService=function(a){$("."+a).find(".card-area").addClass("chosen"),$("."+a).find(".btn-area").addClass("show")},this.cancelService=function(a){$("."+a).find(".card-area").removeClass("chosen"),$("."+a).find(".btn-area").removeClass("show")},this.initSelect=function(){$(".register-info").find(".info-con").find("select").material_select()},this.openMap=function(){$("#choose-map-modal").openModal()},this.initMap=function(){this.map=new BMap.Map("business-address-map"),this.map.centerAndZoom("杭州",12),this.map.enableScrollWheelZoom();var a=this.map,c=(new BMap.Autocomplete({input:"business-address-map-input",location:a,onSearchComplete:function(a){c.call(b,a)}}),function(a){this.list=[];for(var b=a.wr,c=0;c<b.length;c++)this.list.push(""+b[c].city+b[c].district+b[c].street+b[c].business)})},this.getList=function(){return this.list},this.search=function(b){var c=this.map;c.clearOverlays();var d=function(){var b=e.getResults().getPoi(0).point;c.centerAndZoom(b,16),c.addOverlay(new BMap.Marker(b)),a.coord_long=b.lng,a.coord_lat=b.lat,a.province=e.getResults().province,a.city=e.getResults().city},e=new BMap.LocalSearch(this.map,{onSearchComplete:d});e.search(b)}}]),bApp.factory("registerFactory",["registerInfo",function(a){var b={map:null,locationInfo:"",point:null};b.initSelect=function(){$(".register-info").find(".info-con").find("select").material_select()},b.openMap=function(){$("#choose-map-modal").openModal()},b.initMap=function(){this.map=new BMap.Map("business-address-map"),this.map.centerAndZoom("杭州",12),this.map.addControl(new BMap.OverviewMapControl),this.map.enableScrollWheelZoom(),c(this.map)};var c=function(a){var b=new BMap.Autocomplete({input:"business-address-map-input",location:a,onSearchComplete:c}),c=function(a){console.log(a);for(var b=[],c=a.wr,d=0;d<c.length;d++){var e=""+c[d].provice+c[d].city+c[d].district+c[d].street+c[d].business;b.push(e)}console.log(b)};b.addEventListener("onhighlight",function(a){console.log(a,a.fromitem)}),b.addEventListener("onconfirm",function(a){console.log(a,a.item)})};return b.search=function(a){function c(a){console.log(a)}new BMap.LocalSearch(b.map,{onSearchComplete:c})},b}]),bApp.value("registerInfo",{province:"",city:"",district:"",street:"",coord_long:"",coord_lat:"",service_type:0}),bApp.factory("memberFactory",["$http",function(a){var b,c={},d={title:{text:"会员变化趋势"},tooltip:{trigger:"axis"},legend:{left:"center",top:30,width:"60%",data:["银卡会员","金卡会员","钻石卡会员"]},toolbox:{feature:{saveAsImage:{}}},grid:{top:80,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["6月","7月","8月","9月","10月","11月","12月"]}],yAxis:[{type:"value"}],series:[{name:"银卡会员",type:"line",stack:"总量",areaStyle:{normal:{}},data:[20,88,210,310,372,410,444]},{name:"金卡会员",type:"line",stack:"总量",areaStyle:{normal:{}},data:[0,21,98,142,199,240,262]},{name:"钻石卡会员",type:"line",stack:"总量",areaStyle:{normal:{}},data:[0,0,8,17,31,58,80]}]};return c.initChart=function(){b=echarts.init(document.getElementById("memberChart")),console.log(b),b.setOption(d)},c}]),bApp.factory("moneyChartFactory",["$http",function(a){var b,c={};return option={title:{text:"店铺各类收入"},tooltip:{trigger:"axis"},legend:{top:30,left:"center",width:"80%",data:["银卡消费","金卡消费","钻石卡消费","其他消费"]},toolbox:{feature:{saveAsImage:{}}},grid:{top:80,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["6月","7月","8月","9月","10月","11月","12月"]}],yAxis:[{type:"value"}],series:[{name:"银卡消费",type:"line",stack:"总量",areaStyle:{normal:{}},data:[120,132,101,134,90,230,210]},{name:"金卡消费",type:"line",stack:"总量",areaStyle:{normal:{}},data:[220,182,191,234,290,330,310]},{name:"钻石卡消费",type:"line",stack:"总量",areaStyle:{normal:{}},data:[150,232,201,154,190,330,410]},{name:"其他消费",type:"line",stack:"总量",areaStyle:{normal:{}},data:[320,332,301,334,390,330,320]}]},c.initChart=function(){b=echarts.init(document.getElementById("money-chart")),b.setOption(option)},c}]),bApp.factory("moneyOriginChartFactory",["$http",function(a){var b,c={},d={title:{text:"店铺各类收入占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["银卡消费","金卡消费","钻石卡消费","其他消费"]},series:[{name:"消费来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"银卡消费"},{value:310,name:"金卡消费"},{value:234,name:"钻石卡消费"},{value:135,name:"其他消费"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};return c.initChart=function(){b=echarts.init(document.getElementById("money-origin-chart")),b.setOption(d)},c}]);